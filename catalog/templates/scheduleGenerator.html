{% extends "base.html" %}

{% block content %}
    <h1>Schedule Generator</h1>



    {% if rt == None %}
        There are no Reserved Times for {{ user.username }}

    {% else %}

         Reserved Times for {{ user.username }}

    {% endif %}



    <ul>
        {% for rt in reservedTimes %}
            <li>
                {{ rt.description }} {{ rt.reserved_Day }} {{ rt.start_Time }} - {{ rt.end_Time }}
            </li>
        {% endfor %}
    </ul>

    <h4>{{ error }}</h4>

    {% if possibleCourses.count == 0 %}
        There are no Possible Courses for {{ user.username }}
    {% elif possibleCourses == None %}
        There are no Possible Courses for {{ user.username }}
    {% else %}
        Possible Courses for {{ user.username }}
    {% endif %}

    <form action="{% url 'scheduleGenerator' %}" method="POST">

        {% csrf_token %}
        <ul>

            {% for course in possibleCourses %}

                <li>
                    <input id="" type="checkbox" value="{{ course.id }}" name="choices">
                    {{ course.department_ID }}
                    {{ course.course_Number }}
                    {{ course.course_Title }}
                </li>

            {% endfor %}


        </ul>
             <input type="submit" value="Generate Schedule">
    </form>

    Schedule Options
    <ul>

        {% for schedule in schedule_Options %}
            <li>
                <ul>
                    {% for course in schedule.scheduled_Courses.all %}

                        <li>
                            {{ course.section.course.course_Title }} Section: {{ course.section.section_ID }} Instructor: {{ course.section.instructor }} Period: {{ course.period.meeting_day }} {{ course.period.start_Time }} - {{ course.period.end_Time }}
                        </li>

                    {% endfor %}
                </ul>
            </li>
            <form action="{% url 'saveSchedule' schedule.id %}" method="POST">{% csrf_token %}<input type="submit" value="Save"></form>
        {% endfor %}

    </ul>

{% endblock %}